<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Kalos Cinema is where the cinematic wonders come to life."
    />
    <title>Print | Kalos Cinema</title>
    <link rel="stylesheet" media="screen" href="./styles/base.css" />
    <link rel="icon" type="image/svg" href="./images/icon.svg" />
    <link rel="stylesheet" media="print" href="./styles/print.css" />
  </head>
  <body>
    <header>
      <div id="logo" class="flex-row-center">
        <div>
          <img src="./images/logo.svg" alt="Kalos Cinema logo" />
        </div>
        <div>
          <h1>
            <a href="./index.html">Kalos Cinema</a>
          </h1>
        </div>
      </div>
      <nav>
        <ul class="navs">
          <li class="nav"><a href="./index.html">Home</a></li>
          <li class="nav"><a href="./now-showing.html">Now showing</a></li>
          <li class="nav"><a href="./ticket.html">Ticket</a></li>
        </ul>
      </nav>
    </header>
    <main id="main" class="flex-col-center"></main>
    <footer>
      <div>
        <p>
          Â© Copyright of resources belong to corresponding copyright owners.
          Fair use for education purpose.
        </p>
      </div>
      <div>
        <ul class="navs">
          <li><a href="./index.html">Home</a></li>
          <li><a href="./design-2.html">Design</a></li>
        </ul>
      </div>
    </footer>
    <script>
      const MAIN = document.getElementById("main");
      const PARAMS = new URLSearchParams(document.location.search);

      function ticket(cinema, title, datetime, house, seat) {
        return `<div class="ticket">
          <p><span class="font-bold">Cinema:</span> ${cinema}</p>
          <p><span class="font-bold">Movie:</span> ${title}</p>
          <p><span class="font-bold">Time:</span> ${datetime}</p>
          <p><span class="font-bold">House:</span> ${house}</p>
          <p><span class="font-bold">Seat:</span> ${seat}</p>
        </div>`;
      }

      Tickets: {
        const cinema = PARAMS.get("cinema");
        const title = PARAMS.get("title");
        const datetime = PARAMS.get("datetime");
        const house = parseInt(PARAMS.get("house"));
        const seats = PARAMS.get("seats").split(", ");

        const tickets = seats
          .map(
            (s, i) =>
              `
              <div class="ticket">
                <p><span class="font-bold">Cinema:</span> ${cinema}</p>
                <p><span class="font-bold">Movie:</span> ${title}</p>
                <p><span class="font-bold">Time:</span> ${datetime}</p>
                <p><span class="font-bold">House:</span> ${house}</p>
                <p><span class="font-bold">Seat:</span> ${s}</p>
              </div>
              ${i < seats.length - 1 ? `<div class="pb"></div>` : ""}
              `
          )
          .join("");

        MAIN.insertAdjacentHTML("beforeend", tickets);
      }
    </script>
  </body>
</html>
